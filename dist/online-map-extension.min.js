var __extends=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},CustomItems;!function(e){function t(){return{"DashboardWebCustomItemStringId.ToolBoxCustomItemCaption":"Custom Items","DashboardWebCustomItemStringId.DefaultNameOnlineMap":"Online Map","DashboardWebCustomItemStringId.Latitude":"Latitude","DashboardWebCustomItemStringId.Binding.SetLatitude":"Set Latitude","DashboardWebCustomItemStringId.Binding.ConfigureLatitude":"Configure Latitude","DashboardWebCustomItemStringId.Longitude":"Longitude","DashboardWebCustomItemStringId.Binding.SetLongitude":"Set Longitude","DashboardWebCustomItemStringId.Binding.ConfigureLongitude":"Configure Longitude","DashboardWebCustomItemStringId.OnlineMapProvider":"Provider","DashboardWebCustomItemStringId.OnlineMapType":"Type","DashboardWebCustomItemStringId.OnlineMapProviderGoogle":"Google","DashboardWebCustomItemStringId.OnlineMapProviderBing":"Bing","DashboardWebCustomItemStringId.OnlineMapTypeRoadMap":"RoadMap","DashboardWebCustomItemStringId.OnlineMapTypeSatellite":"Satellite","DashboardWebCustomItemStringId.OnlineMapTypeHybrid":"Hybrid","DashboardWebCustomItemStringId.OnlineMapDisplayMode":"Display Mode","DashboardWebCustomItemStringId.OnlineMapDisplayModeMarkers":"Markers","DashboardWebCustomItemStringId.OnlineMapDisplayModeRoutes":"Routes","DashboardWebCustomItemStringId.OnlineMapDisplayModeMarkersAndRoutes":"All","DashboardWebCustomItemStringId.OnlineMapSectionName":"Custom Options"}}DevExpress.JS.Localization.addCultureInfo({messages:t()})}(CustomItems||(CustomItems={}));var CustomItems;!function(e){e.ONLINE_MAP_EXTENSION_NAME="OnlineMap",e.onlineMapMeta={bindings:[{propertyName:"Latitude",dataItemType:"Dimension",array:!1,interactivityEnabled:!0,displayName:"DashboardWebCustomItemStringId.Latitude",placeholder:"DashboardWebCustomItemStringId.Binding.SetLatitude",configurePlaceholder:"DashboardWebCustomItemStringId.Binding.ConfigureLatitude",constraints:{allowedTypes:["Integer","Float","Double","Decimal"]}},{propertyName:"Longitude",dataItemType:"Dimension",array:!1,interactivityEnabled:!0,displayName:"DashboardWebCustomItemStringId.Longitude",placeholder:"DashboardWebCustomItemStringId.Binding.SetLongitude",configurePlaceholder:"DashboardWebCustomItemStringId.Binding.ConfigureLongitude",constraints:{allowedTypes:["Integer","Float","Double","Decimal"]}}],properties:[{propertyName:"Provider",editor:{header:"dx-dashboard-button-group"},displayName:"DashboardWebCustomItemStringId.OnlineMapProvider",sectionName:"DashboardWebCustomItemStringId.OnlineMapSectionName",values:{Google:"DashboardWebCustomItemStringId.OnlineMapProviderGoogle",Bing:"DashboardWebCustomItemStringId.OnlineMapProviderBing"},defaultVal:"Bing"},{propertyName:"Type",editor:{header:"dx-dashboard-button-group"},displayName:"DashboardWebCustomItemStringId.OnlineMapType",sectionName:"DashboardWebCustomItemStringId.OnlineMapSectionName",values:{RoadMap:"DashboardWebCustomItemStringId.OnlineMapTypeRoadMap",Satellite:"DashboardWebCustomItemStringId.OnlineMapTypeSatellite",Hybrid:"DashboardWebCustomItemStringId.OnlineMapTypeHybrid"},defaultVal:"RoadMap"},{propertyName:"DisplayMode",editor:{header:"dx-dashboard-button-group"},displayName:"DashboardWebCustomItemStringId.OnlineMapDisplayMode",sectionName:"DashboardWebCustomItemStringId.OnlineMapSectionName",values:{Markers:"DashboardWebCustomItemStringId.OnlineMapDisplayModeMarkers",Routes:"DashboardWebCustomItemStringId.OnlineMapDisplayModeRoutes",MarkersAndRoutes:"DashboardWebCustomItemStringId.OnlineMapDisplayModeMarkersAndRoutes"},defaultVal:"Markers"}],interactivity:{filter:!0,drillDown:!1},icon:e.ONLINE_MAP_EXTENSION_NAME,groupName:"custom",groupTitle:"DashboardWebCustomItemStringId.ToolBoxCustomItemCaption",title:"DashboardWebCustomItemStringId.DefaultNameOnlineMap",index:1}}(CustomItems||(CustomItems={}));var CustomItems;!function(e){e.ONLINE_MAP_ICON='<?xml version="1.0" encoding="utf-8"?>\n        <svg version="1.1" id="'+e.onlineMapMeta.icon+'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" \n             x="0px" y="0px" viewBox="4 -4 24 24" style="enable-background:new 4 -4 24 24;" xml:space="preserve">\n            <style type="text/css">\n\t            .dx_ruby{fill:#FA7864;}\n            </style>\n            <circle class="dx_ruby" cx="19" cy="13" r="3"/>\n            <circle class="dx_ruby" cx="18" cy="5" r="3"/>\n            <circle class="dx_ruby" cx="11" cy="3" r="3"/>\n        </svg>'}(CustomItems||(CustomItems={}));var CustomItems;!function(e){var t=function(e){function t(t,o,i){var a=e.call(this,t,o,i)||this;return a.mapViewer=null,a}return __extends(t,e),t.prototype.setSize=function(t,o){e.prototype.setSize.call(this,t,o),this.mapViewer.option("width",this.contentWidth()),this.mapViewer.option("height",this.contentHeight())},t.prototype.clearSelection=function(){e.prototype.clearSelection.call(this),this._updateSelection()},t.prototype.renderContent=function(e,t,o){var i=this,a=[],n=[],r=this.getPropertyValue("DisplayMode"),s="Markers"===r||"MarkersAndRoutes"===r||this.model.isMasterFilter(),d="Routes"===r||"MarkersAndRoutes"===r;this.getBindingValue("Latitude").length>0&&this.getBindingValue("Longitude").length>0&&this.model.iterateData(function(e){var t=e.getValue("Latitude"),o=e.getValue("Longitude");t&&o&&(s&&a.push({location:{lat:t,lng:o},iconSrc:i.isSelected(e)?"https://js.devexpress.com/Demos/RealtorApp/images/map-marker.png":null,onClick:function(t){i._onClick(e)},tag:e}),d&&n.push([t,o]))});var m=a.length>1||n.length>1,u={provider:this.getPropertyValue("Provider").toLowerCase(),type:this.getPropertyValue("Type").toLowerCase(),controls:!0,zoom:m?1e3:1,autoAdjust:m,width:this.contentWidth(),height:this.contentHeight(),markers:a,routes:n.length>0?[{weight:6,color:"blue",opacity:.5,mode:"",locations:n}]:[]};t&&this.mapViewer?this.mapViewer.option(u):this.mapViewer=new DevExpress.ui.dxMap(e,u)},t.prototype._onClick=function(e){this.setMasterFilter(e),this._updateSelection()},t.prototype._updateSelection=function(){var e=this,t=this.mapViewer.option("markers");t.forEach(function(t){t.iconSrc=e.isSelected(t.tag)?"https://js.devexpress.com/Demos/RealtorApp/images/map-marker.png":null}),this.mapViewer.option("autoAdjust",!1),this.mapViewer.option("markers",t)},t}(DevExpress.JS.Dashboard.customViewerItem);e.onlineMapItem=t}(CustomItems||(CustomItems={}));var CustomItems;!function(e){var t=function(){function t(t){var o=this;this.name=e.ONLINE_MAP_EXTENSION_NAME,this.metaData=e.onlineMapMeta,this.createViewerItem=function(t,i,a,n){t.customItemType()===o.name&&(n.viewerItem=new e.onlineMapItem(t,i,a))},t.registerIcon(e.ONLINE_MAP_ICON)}return t}();e.OnlineMapItemExtension=t}(CustomItems||(CustomItems={}));